<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:mj="http://mojarra.dev.java.net/mojarra_ext"
	xmlns:p="http://primefaces.org/ui"
	xmlns:rich="http://richfaces.org/rich">
	<h:head>
		<meta name="viewport" content="width=device-width, initial-scale=1"
			http-equiv="X-UA-Conpatible" />
		<h:outputStylesheet library="css" name="bootstrap.min.css" />
		<h:outputStylesheet library="css" name="style.css" />
		<h:outputScript library="js" name="jquery-3.4.1.min.js" target="head" />
		<h:outputScript library="js" name="bootstrap.min.js" target="head" />
		<title>Configuration des produits</title>
				<style>
		.form-group {
    margin-bottom: 15px;
    display: block;
    float: left;
    width: 100%;
}
		</style>
	</h:head>
	<h:body>
	<div class="navbar navbar-inverse">
			<div class="container"><div class="navbar-brand">Config des produits</div> <div class="col-md-10 pull-right">
			<ui:include src="menu.xhtml" />
			</div></div>
		</div>
		<div class="container">
			<div class="row">
				<div class="col-xs-12 col-xs-updated">
					<h:form id="CreationContrat" styleClass="form-horizontal">
						<div class="form-group">
							<div class="col-sm-12">
								<h:dataTable styleClass="table"
									value="#{ConfigurationProduit.produits}" var="prod">					
									<h:column styleClass="col">
										<f:facet name="header">Description du produit</f:facet>		
									      #{ConfigurationProduit.setDescription(prod.DESCRIPTION)}
			<h:inputText  value="#{ConfigurationProduit.description}" rendered="#{prod.iseditable}"  style="padding:0px;" styleClass="form-control pull-left" >
			</h:inputText>    				
    		<h:outputText value="#{prod.DESCRIPTION}" rendered="#{not prod.iseditable}" />    		
									 </h:column>
									<h:column styleClass="col">
										<f:facet name="header">Taux d'intérêt</f:facet>		
									      #{ConfigurationProduit.setTauxcomm(prod.TAUXCOMM)}			
			<h:inputText  value="#{ConfigurationProduit.tauxcomm}" rendered="#{prod.iseditable}"  style="padding:0px;" styleClass="form-control pull-left" >

			</h:inputText>    				
    		<h:outputText value="#{prod.TAUXCOMM} %" rendered="#{not prod.iseditable}" />
									 </h:column>									 
							
									<h:column>
										<f:facet name="header">Supprimer</f:facet>
											<h:commandButton value="Delete"
											styleClass="btn btn-danger"
											actionListener="#{ConfigurationProduit.delete(prod)}" 
											process="@this" update=":Modifierproduit"/>									
									</h:column>									
										<h:column>
										<f:facet name="header">Modifier</f:facet>
										<h:commandButton value="Modifier"
											styleClass="btn btn-default"
											actionListener="#{ConfigurationProduit.setProductEditable(prod)}" 
											process="@this" update=":Modifierproduit" rendered="#{not prod.iseditable}" />
										<h:commandButton value="Update"
											styleClass="btn btn-default"
											actionListener="#{ConfigurationProduit.modifierProduit(prod)}" 
											process="@this" update=":Modifierproduit" rendered="#{prod.iseditable}" />
									</h:column>
								</h:dataTable>
							</div>
						</div>
					</h:form>
				</div>
			</div>		
		</div>
	</h:body>
</ui:composition>